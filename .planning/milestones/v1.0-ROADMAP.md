# Milestone v1.0: MVP

**Status:** ✅ SHIPPED 2026-02-13
**Phases:** 1-5
**Total Plans:** 13

## Overview

Migrate the existing Vite/React SPA landing page for 404 Tech Found to Next.js 16 with App Router, SSR, bilingual i18n (ES/EN), SEO/GEO optimization, and a database-backed intent form. The migration proceeded in 5 phases ordered by dependency chain: foundation and tooling first, then static server-rendered content, then interactive client islands, then SEO infrastructure, and finally analytics and AI discoverability. All 42 v1 requirements covered across 5 phases.

## Phases

### Phase 1: Foundation

**Goal**: A working Next.js 16 project that renders an empty locale-routed page (`/es`, `/en`) with Tailwind v4 styling, validated environment variables, database connection, and all developer tooling configured

**Depends on**: Nothing (first phase)

**Requirements**: FOUND-01 through FOUND-12 (12 requirements)

**Plans**: 3 plans

Plans:
- [x] 01-01: Project initialization, all dependencies, TypeScript, Next.js config, developer tooling (Biome, Lefthook, commitlint, Knip, bunfig)
- [x] 01-02: Tailwind v4 cyberpunk theme, shadcn/ui RSC init, next-intl routing, locale layouts, test landing page
- [x] 01-03: @t3-oss/env-nextjs type-safe env vars, Drizzle ORM + Neon Postgres, intent_submissions schema, migration

**Details:**
- Tailwind v4 pinned to ~4.0.0 (v4.1.18 has Turbopack bug)
- Enum naming: landing_intent and landing_locale to avoid database collisions
- Module-level db singleton for optimal serverless performance
- All dev tooling: Biome (tabs + double quotes), Lefthook + commitlint, Knip

### Phase 2: Static Content Migration

**Goal**: The complete landing page is visible with all 11 sections rendered as Server Components, displaying bilingual content (ES/EN) from next-intl message files, preserving the existing cyberpunk design system

**Depends on**: Phase 1 (i18n routing, Tailwind v4, shadcn/ui, layouts)

**Requirements**: STATIC-01 through STATIC-10 (10 requirements)

**Plans**: 3 plans

Plans:
- [x] 02-01: Install lucide-react, copy assets, complete translation files (es.json + en.json with all keys), page.tsx entry point
- [x] 02-02: Primary content sections: Hero, Houses, Programs, Events as async Server Components
- [x] 02-03: Secondary sections + placeholders: Community, Partners, Footer, Navbar, AnnouncementBanner, TractionBar, IntentCTA

**Details:**
- ~140 translation keys in ES and EN message files
- All sections as pure Server Components (zero 'use client' directives)
- Static placeholders for interactive features deferred to Phase 3
- Content-as-keys pattern for React reconciliation stability

### Phase 3: Interactive Components

**Goal**: The landing page is fully interactive with a working navbar (scroll detection, mobile menu, language switcher), animated traction bar, dismissible announcement banner, Framer Motion animations across all sections, and a functional intent form that persists submissions to the database

**Depends on**: Phase 2 (static sections must exist to add interactivity to), Phase 1 (database schema for form)

**Requirements**: INTER-01 through INTER-07 (7 requirements)

**Plans**: 3 plans

Plans:
- [x] 03-01: Install deps, custom hooks (useScrollDirection, useLocalStorage), convert Navbar + AnnouncementBanner to Client Components
- [x] 03-02: Framer Motion animation wrappers (FadeInSection, FloatingMascot), TractionBar count-up, Hero mascot float, section fade-ins
- [x] 03-03: Server Action with Zod validation, IntentCTA Client Component with useActionState, card selection, form fields, database persistence

**Details:**
- useActionState pattern chosen over TanStack Forms (POC-level maturity)
- Animation budget: 14/15 elements (TractionBar stats + 7 FadeInSection sections + Hero mascot float + IntentCTA cards)
- Intent-specific dynamic UI (submit text and helper change based on selection)
- hamburger-react Squash component for mobile menu (lightweight 1.5KB)

### Phase 4: SEO & Metadata

**Goal**: The landing page has complete SEO infrastructure: per-locale metadata, structured data for search engines, dynamic social sharing images, and a sitemap/robots.txt that enable indexing

**Depends on**: Phase 2 (content must exist for metadata to describe), Phase 3 (intent form influences FAQ schema)

**Requirements**: SEO-01 through SEO-08 (8 requirements)

**Plans**: 2 plans

Plans:
- [x] 04-01: SEO config, env vars, metadata translations, generateMetadata with per-locale titles/descriptions/canonical/hreflang/OG/Twitter, JSON-LD schemas (Organization, Event, FAQ)
- [x] 04-02: Discovery files (sitemap.ts, robots.ts) and dynamic OpenGraph image generation per locale

**Details:**
- Central seo-config.ts for SITE_URL, SITE_NAME, SOCIAL_LINKS (single source of truth)
- Self-referencing canonical URLs per locale (ES→/es, EN→/en) with hreflang alternates
- JSON-LD schemas rendered at page level (Organization, Event for SpecHack, FAQPage)
- Dynamic OG images: 1200x630 PNG with locale-specific content, purple gradient, house color bar
- Google Fonts fetched at runtime in ImageResponse (next/font unavailable in edge runtime)
- Satori flexbox requirement: all divs have display: "flex"

### Phase 5: Analytics & GEO

**Goal**: The landing page tracks visitor behavior via PostHog, is discoverable by AI systems via llms.txt, meets Core Web Vitals thresholds, and handles error/loading states gracefully

**Depends on**: Phase 3 (PostHog provider wraps interactive components), Phase 4 (content and metadata finalized for llms.txt)

**Requirements**: GEO-01 through GEO-05 (5 requirements)

**Plans**: 2 plans

Plans:
- [x] 05-01: PostHog analytics integration (provider, pageview tracking, Core Web Vitals reporting)
- [x] 05-02: AI discoverability (llms.txt, llms-full.txt) and production readiness (error, loading, 404 pages)

**Details:**
- PostHog manual pageview tracking (capture_pageview: false) for App Router accuracy
- Module-level PostHog init to prevent re-initialization on re-renders
- Core Web Vitals sent to PostHog (LCP, INP, CLS) instead of separate endpoint
- llms.txt (1.3KB) and llms-full.txt (8.5KB) following llms-txt-standard
- Single source of truth: llms.txt content derived from seo-config and translations
- Bilingual error boundaries, 404 pages, loading states with cyberpunk purple theme
- Catch-all [...rest] route triggering notFound() for unknown paths

---

## Milestone Summary

**Key Decisions:**

- Tailwind v4 pinned to ~4.0.0 to avoid v4.1.18 Turbopack bug
- useActionState pattern over TanStack Forms (React 19 + Next.js 16 best practice)
- Module-level db singleton for optimal serverless performance
- landing_ enum prefix to avoid database collisions (Neon instance has 17+ enums)
- Central seo-config.ts as single source of truth for SEO constants
- Google Fonts fetching at runtime in OG images (next/font unavailable in edge)
- llms.txt content derived from existing config and translations (no duplication)

**Issues Resolved:**

- Tailwind v4.1.18 Turbopack bug → pinned to ~4.0.0
- TanStack Forms + Server Actions POC maturity → used useActionState instead
- Neon database enum collisions → landing_ prefix
- next.config.ts top-level await error → moved env import to layout
- Biome useUniqueElementIds false positives → disabled rule

**Issues Deferred:**

- Human verification checklist (19 items) for production deployment
- PostHog env vars configuration (optional for dev mode)
- Database migration in production Neon instance
- Lighthouse audit for Core Web Vitals targets (90+ score, LCP < 2.5s, INP < 200ms, CLS < 0.1)

**Technical Debt Incurred:**

- Optional: Extract section IDs to src/lib/constants/sections.ts for maintainability (currently working correctly)

---

_For current project status, see .planning/PROJECT.md (updated 2026-02-13 after v1.0 milestone completion)_
