---
phase: 03-interactive-components
plan: 02
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - src/app/[locale]/_components/TractionBar.tsx
  - src/app/[locale]/_components/Hero.tsx
  - src/app/[locale]/_components/animations/FadeInSection.tsx
  - src/app/[locale]/_components/animations/FloatingMascot.tsx
  - src/app/[locale]/page.tsx
autonomous: true

must_haves:
  truths:
    - "TractionBar numbers animate from 0 to target values when scrolled into view"
    - "Hero mascot floats with a continuous up-down animation"
    - "Content sections fade in when scrolled into view"
    - "Animations fire only once (no re-triggering on subsequent scrolls)"
    - "No hydration errors from Framer Motion or react-countup"
  artifacts:
    - path: "src/app/[locale]/_components/animations/FadeInSection.tsx"
      provides: "Scroll-triggered fade-in wrapper"
      contains: "use client"
      exports: ["FadeInSection"]
    - path: "src/app/[locale]/_components/animations/FloatingMascot.tsx"
      provides: "Infinite floating animation wrapper"
      contains: "use client"
      exports: ["FloatingMascot"]
    - path: "src/app/[locale]/_components/TractionBar.tsx"
      provides: "Count-up animated traction stats"
      contains: "use client"
    - path: "src/app/[locale]/_components/Hero.tsx"
      provides: "Hero with floating mascot animation"
  key_links:
    - from: "page.tsx"
      to: "FadeInSection"
      via: "wrapping section components"
      pattern: "<FadeInSection>"
    - from: "Hero.tsx"
      to: "FloatingMascot"
      via: "wrapping mascot Image"
      pattern: "<FloatingMascot>"
    - from: "TractionBar.tsx"
      to: "react-countup"
      via: "CountUp component with enableScrollSpy"
      pattern: "enableScrollSpy"
---

<objective>
Create Framer Motion animation wrappers and convert TractionBar to a Client Component with count-up animations. Add floating mascot animation to Hero and scroll-triggered fade-in effects to content sections.

Purpose: Animations make the landing page feel alive and professional. The traction bar's count-up draws attention to impressive numbers. Section fade-ins create a progressive reveal experience. The floating mascot adds character to the hero section.

Output: Two animation wrapper components (FadeInSection, FloatingMascot), interactive TractionBar with count-up, updated Hero with mascot float, and page.tsx wrapping sections in FadeInSection.
</objective>

<execution_context>
@/home/hybridz/.claude/get-shit-done/workflows/execute-plan.md
@/home/hybridz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-interactive-components/03-RESEARCH.md
@.planning/phases/03-interactive-components/03-01-SUMMARY.md
@src/app/[locale]/_components/TractionBar.tsx
@src/app/[locale]/_components/Hero.tsx
@src/app/[locale]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create animation wrapper components</name>
  <files>
    src/app/[locale]/_components/animations/FadeInSection.tsx
    src/app/[locale]/_components/animations/FloatingMascot.tsx
  </files>
  <action>
    1. Create `src/app/[locale]/_components/animations/` directory.

    2. Create `FadeInSection.tsx`:
       - "use client" directive
       - Import `motion` from `framer-motion`
       - Accept `{ children, className? }` props (children: React.ReactNode)
       - Use Framer Motion's `whileInView` prop for scroll-triggered animation:
         ```
         <motion.div
           initial={{ opacity: 0, y: 40 }}
           whileInView={{ opacity: 1, y: 0 }}
           transition={{ duration: 0.6, ease: "easeOut" }}
           viewport={{ once: true, margin: "-80px" }}
           className={className}
         >
           {children}
         </motion.div>
         ```
       - `viewport.once: true` ensures animation fires only once
       - `margin: "-80px"` triggers slightly before element enters viewport

    3. Create `FloatingMascot.tsx`:
       - "use client" directive
       - Import `motion` from `framer-motion`
       - Accept `{ children }` props
       - Infinite y-axis floating animation:
         ```
         <motion.div
           animate={{ y: [0, -20, 0] }}
           transition={{
             duration: 3,
             repeat: Infinity,
             ease: "easeInOut",
           }}
         >
           {children}
         </motion.div>
         ```
       - The animation is infinite and smooth (3s cycle, easeInOut)

    Use tabs + double quotes. Follow 03-RESEARCH.md Pattern 4 (FadeInSection) and Code Examples (FloatingMascot).
  </action>
  <verify>
    - `bunx biome check src/app/[locale]/_components/animations/` passes
    - `bunx tsc --noEmit` passes
    - Both files export their component and have "use client" directive
  </verify>
  <done>
    FadeInSection and FloatingMascot animation wrappers exist as Client Components with correct Framer Motion animations.
  </done>
</task>

<task type="auto">
  <name>Task 2: Convert TractionBar, update Hero, and wire animations in page.tsx</name>
  <files>
    src/app/[locale]/_components/TractionBar.tsx
    src/app/[locale]/_components/Hero.tsx
    src/app/[locale]/page.tsx
  </files>
  <action>
    **TractionBar.tsx — Convert to Client Component with count-up:**

    1. Add "use client" directive. Remove `async` keyword. Remove `getTranslations` import.
    2. Accept props: `{ translations }` where:
       - `translations: { community: string; summit: string; applicants: string; fellows: string }`
    3. Import `CountUp` from `react-countup`
    4. Define stats array with numeric values (not strings):
       ```
       const stats = [
         { value: 400, suffix: "+", label: translations.community },
         { value: 250, suffix: "+", label: translations.summit },
         { value: 92, suffix: "+", label: translations.applicants },
         { value: 15, suffix: "", label: translations.fellows },
       ];
       ```
    5. Replace static string values with `<CountUp>` components:
       ```
       <CountUp
         end={stat.value}
         duration={2}
         enableScrollSpy
         scrollSpyOnce
         suffix={stat.suffix}
       />
       ```
    6. Keep the existing grid layout, styling (font-orbitron, text-glow-purple), and section structure

    **Hero.tsx — Add FloatingMascot wrapper (stays Server Component):**

    1. Hero.tsx remains an async Server Component (no "use client" needed)
    2. Import `FloatingMascot` from `./animations/FloatingMascot`
    3. Wrap the mascot `<Image>` inside `<FloatingMascot>`:
       ```
       <FloatingMascot>
         <Image src={mascotImage} ... />
       </FloatingMascot>
       ```
    4. This works because Server Components can render Client Components as children

    **page.tsx — Wire TractionBar translations and FadeInSection wrappers:**

    1. Import `FadeInSection` from `./_components/animations/FadeInSection`
    2. Import `getTranslations` call for traction: `const tractionT = await getTranslations("landing.traction")`
    3. Pass translations to TractionBar:
       ```
       <TractionBar translations={{
         community: tractionT("community"),
         summit: tractionT("summit"),
         applicants: tractionT("applicants"),
         fellows: tractionT("fellows"),
       }} />
       ```
    4. Wrap content sections (NOT Hero, NOT Navbar, NOT AnnouncementBanner, NOT Footer) in FadeInSection:
       ```
       <FadeInSection><TractionBar ... /></FadeInSection>
       <FadeInSection><Houses /></FadeInSection>
       <FadeInSection><Programs /></FadeInSection>
       <FadeInSection><Events /></FadeInSection>
       <FadeInSection><Community /></FadeInSection>
       <FadeInSection><Partners /></FadeInSection>
       ```
    5. Do NOT wrap IntentCTA in FadeInSection yet (Plan 03-03 will handle that section)
    6. Do NOT wrap Hero (it's the first thing visible, shouldn't fade in)
    7. Preserve all existing props from Plan 03-01 (locale, translations for Navbar/Banner)

    **Animation budget check:** Hero mascot (1) + 6 FadeInSection wrappers + 4 CountUp stats = 11 animated elements. Well within 15 budget.
  </action>
  <verify>
    - `bunx biome check src/app/[locale]/` passes
    - `bunx tsc --noEmit` passes
    - `bun run build` succeeds
    - `bun dev` → visit localhost:3000/es:
      - Scroll to TractionBar: numbers animate from 0 to 400+, 250+, 92+, 15
      - Scroll past and back: numbers don't re-animate (scrollSpyOnce)
      - Hero mascot floats up and down continuously
      - Houses, Programs, Events, Community, Partners sections fade in when scrolled into view
      - No hydration errors in console
  </verify>
  <done>
    TractionBar counts up from 0 when scrolled into view. Hero mascot floats. Six content sections fade in on scroll. All animations fire once. Zero hydration errors.
  </done>
</task>

</tasks>

<verification>
1. `bunx biome check src/` — zero errors
2. `bunx tsc --noEmit` — TypeScript clean
3. `bun run build` — production build succeeds
4. Manual: Scroll to TractionBar — numbers animate from 0 to targets (400+, 250+, 92+, 15)
5. Manual: Hero mascot has continuous floating animation
6. Manual: Houses, Programs, Events, Community, Partners sections fade in on scroll
7. Manual: Scroll past TractionBar and back — numbers stay at target values (no re-animation)
8. Browser console: zero hydration errors
</verification>

<success_criteria>
- TractionBar numbers animate from 0 with 2s duration using react-countup enableScrollSpy
- Hero mascot floats with 3s infinite easeInOut cycle via Framer Motion
- 6 content sections wrapped in FadeInSection (fade + slide up on scroll into view, fires once)
- Total animated elements: 11 (within 15 budget)
- All animations are scroll-triggered and fire only once (except mascot which is infinite)
- Zero hydration errors, zero Biome errors, zero TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/03-interactive-components/03-02-SUMMARY.md`
</output>
