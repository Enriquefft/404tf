---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/styles/globals.css
  - src/styles/fonts.ts
  - postcss.config.cjs
  - components.json
  - src/i18n/routing.ts
  - src/i18n/request.ts
  - src/i18n/navigation.ts
  - src/app/proxy.ts
  - src/app/layout.tsx
  - src/app/[locale]/layout.tsx
  - src/app/[locale]/page.tsx
  - messages/en.json
  - messages/es.json
autonomous: true

must_haves:
  truths:
    - "Visiting /es renders a page with Spanish text, purple gradient background, and Orbitron font"
    - "Visiting /en renders the same page with English text"
    - "Tailwind v4 custom utilities (text-glow-purple, gradient-purple, house colors) render correctly"
    - "shadcn/ui is initialized in RSC mode with neutral base color"
  artifacts:
    - path: "src/styles/globals.css"
      provides: "Tailwind v4 theme with cyberpunk purple, house colors, glow effects"
      contains: "@import \"tailwindcss\""
    - path: "src/i18n/routing.ts"
      provides: "Locale routing configuration (ES default, EN secondary)"
      contains: "defineRouting"
    - path: "src/app/proxy.ts"
      provides: "next-intl middleware for locale detection and routing"
      contains: "createMiddleware"
    - path: "src/app/[locale]/layout.tsx"
      provides: "Locale layout with fonts, providers, HTML lang attribute"
      contains: "NextIntlClientProvider"
    - path: "src/app/[locale]/page.tsx"
      provides: "Test landing page proving styling and i18n work"
      contains: "getTranslations"
    - path: "messages/es.json"
      provides: "Spanish translation messages"
      contains: "hero"
    - path: "messages/en.json"
      provides: "English translation messages"
      contains: "hero"
    - path: "components.json"
      provides: "shadcn/ui configuration for RSC mode"
      contains: "\"rsc\": true"
  key_links:
    - from: "src/app/[locale]/layout.tsx"
      to: "src/styles/globals.css"
      via: "CSS import"
      pattern: "import.*globals\\.css"
    - from: "src/app/[locale]/layout.tsx"
      to: "src/styles/fonts.ts"
      via: "Font variable import"
      pattern: "import.*fonts"
    - from: "src/app/[locale]/layout.tsx"
      to: "src/i18n/routing.ts"
      via: "Locale validation"
      pattern: "routing\\.locales"
    - from: "src/app/[locale]/page.tsx"
      to: "messages/*.json"
      via: "getTranslations loads message files"
      pattern: "getTranslations"
    - from: "src/app/proxy.ts"
      to: "src/i18n/routing.ts"
      via: "Middleware uses routing config"
      pattern: "import.*routing"
---

<objective>
Set up Tailwind v4 with the cyberpunk purple theme from the existing site, initialize shadcn/ui in RSC mode, configure next-intl bilingual routing (ES/EN), create the App Router layout structure, and wire up a test landing page that proves styling and i18n work together.

Purpose: This plan delivers the visual and routing foundation. After completion, visiting `/es` and `/en` renders styled pages with correct translations -- the core user-visible proof that Phase 1 styling and i18n are working.
Output: Working locale-routed pages with Tailwind v4 cyberpunk theme and next-intl translations.
</objective>

<execution_context>
@/home/hybridz/.claude/get-shit-done/workflows/execute-plan.md
@/home/hybridz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/home/hybridz/Projects/404tf/.planning/PROJECT.md
@/home/hybridz/Projects/404tf/.planning/ROADMAP.md
@/home/hybridz/Projects/404tf/.planning/phases/01-foundation/01-RESEARCH.md

Reference (read-only, for exact config patterns):
@/home/hybridz/Projects/next-fullstack-template/src/app/layout.tsx
@/home/hybridz/Projects/next-fullstack-template/src/app/[locale]/layout.tsx
@/home/hybridz/Projects/next-fullstack-template/src/i18n/routing.ts
@/home/hybridz/Projects/next-fullstack-template/src/i18n/request.ts
@/home/hybridz/Projects/next-fullstack-template/src/i18n/navigation.ts
@/home/hybridz/Projects/next-fullstack-template/src/app/proxy.ts
@/home/hybridz/Projects/next-fullstack-template/components.json
@/home/hybridz/Projects/next-fullstack-template/postcss.config.cjs

Content source (read-only, for theme colors):
@/home/hybridz/Projects/deep-tech-nexus/src/index.css
@/home/hybridz/Projects/deep-tech-nexus/tailwind.config.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure Tailwind v4 theme and shadcn/ui</name>
  <files>
    src/styles/globals.css
    src/styles/fonts.ts
    postcss.config.cjs
    components.json
  </files>
  <action>
1. Create `postcss.config.cjs`:
   ```javascript
   "use strict";
   module.exports = {
     plugins: {
       "@tailwindcss/postcss": {},
     },
   };
   ```

2. Create `src/styles/globals.css` with the COMPLETE Tailwind v4 cyberpunk theme from research Pattern 3:
   - Start with `@import "tailwindcss";`
   - Define `:root` CSS variables for the dark cyberpunk theme:
     - --radius: 0.75rem
     - --background: 0 0% 7% (near-black)
     - --foreground: 0 0% 98% (near-white)
     - --primary: 262 85% 50% (purple)
     - --primary-foreground: 0 0% 98%
     - --house-ai: 330 100% 70% (pink for AI House)
     - --house-biotech: 153 100% 37% (green for Biotech House)
     - --house-hardware: 42 100% 50% (orange for Hardware House)
     - All shadcn/ui variables: --card, --popover, --secondary, --muted, --accent, --destructive, --border, --input, --ring (use values from research Pattern 3)
   - `@layer base`: Set border-border on all elements, bg-background text-foreground on body with Inter font, Orbitron on headings
   - `@layer utilities`: Define .font-orbitron, .text-glow-purple, .gradient-purple, .glow-border-ai, .glow-border-biotech, .glow-border-hardware (exact values from research)
   - IMPORTANT: Use Tailwind v4 `@import "tailwindcss"` syntax, NOT v3 `@tailwind` directives
   - Reference deep-tech-nexus/src/index.css for the exact color values used in the existing site, but adapt to Tailwind v4 CSS variable format

3. Create `src/styles/fonts.ts` for Google Font loading:
   ```typescript
   import { Inter, Orbitron } from "next/font/google";

   export const inter = Inter({
     subsets: ["latin"],
     variable: "--font-sans",
     display: "swap",
   });

   export const orbitron = Orbitron({
     subsets: ["latin"],
     variable: "--font-orbitron",
     weight: ["400", "500", "600", "700", "800", "900"],
     display: "swap",
   });
   ```

4. Create `components.json` for shadcn/ui (do NOT run `bunx shadcn init` interactively -- write the file directly to avoid interactive prompts):
   ```json
   {
     "$schema": "https://ui.shadcn.com/schema.json",
     "style": "default",
     "rsc": true,
     "tsx": true,
     "tailwind": {
       "config": "",
       "css": "src/styles/globals.css",
       "baseColor": "neutral",
       "cssVariables": true,
       "prefix": ""
     },
     "aliases": {
       "components": "@/components",
       "utils": "@/lib/utils",
       "ui": "@/components/ui",
       "lib": "@/lib",
       "hooks": "@/hooks"
     }
   }
   ```
   This enables `bunx shadcn add <component>` to work correctly in later phases without needing to re-run init.
  </action>
  <verify>
    Verify `postcss.config.cjs` contains `@tailwindcss/postcss`.
    Verify `src/styles/globals.css` starts with `@import "tailwindcss"` (NOT `@tailwind base`).
    Verify `src/styles/globals.css` contains `--house-ai`, `--house-biotech`, `--house-hardware` CSS variables.
    Verify `components.json` has `"rsc": true`.
    Verify `src/styles/fonts.ts` imports both Inter and Orbitron.
  </verify>
  <done>
    Tailwind v4 configured with @import syntax, cyberpunk purple theme with all house colors and glow effects defined as CSS variables. PostCSS configured with @tailwindcss/postcss. shadcn/ui initialized in RSC mode. Google Fonts (Inter + Orbitron) configured with CSS variable approach.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure next-intl routing, layouts, and test page</name>
  <files>
    src/i18n/routing.ts
    src/i18n/request.ts
    src/i18n/navigation.ts
    src/app/proxy.ts
    src/app/layout.tsx
    src/app/[locale]/layout.tsx
    src/app/[locale]/page.tsx
    messages/en.json
    messages/es.json
  </files>
  <action>
1. Create `src/i18n/routing.ts` (research Pattern 2, file 1):
   ```typescript
   import { defineRouting } from "next-intl/routing";

   export const routing = defineRouting({
     locales: ["es", "en"],
     defaultLocale: "es",
     localePrefix: "always",
   });
   ```
   NOTE: Using `localePrefix: "always"` so both `/es` and `/en` are explicit URL paths. The roadmap success criteria require both `/es` and `/en` to render.

2. Create `src/i18n/request.ts` (research Pattern 2, file 2):
   ```typescript
   import { hasLocale } from "next-intl";
   import { getRequestConfig } from "next-intl/server";
   import { routing } from "./routing";

   export default getRequestConfig(async ({ requestLocale }) => {
     const requested = await requestLocale;
     const locale = hasLocale(routing.locales, requested)
       ? requested
       : routing.defaultLocale;

     return {
       locale,
       messages: (await import(`../../messages/${locale}.json`)).default,
     };
   });
   ```

3. Create `src/app/proxy.ts` (research Pattern 2, file 3 -- MUST be proxy.ts for Next.js 16, NOT middleware.ts):
   ```typescript
   import createMiddleware from "next-intl/middleware";
   import { routing } from "@/i18n/routing";

   export default createMiddleware(routing);

   export const config = {
     matcher: "/((?!api|trpc|_next|_vercel|.*\\..*).*)",
   };
   ```

4. Create `src/i18n/navigation.ts` (research Pattern 2, file 4):
   ```typescript
   import { createNavigation } from "next-intl/navigation";
   import { routing } from "./routing";

   export const { Link, redirect, usePathname, useRouter } =
     createNavigation(routing);
   ```

5. Create `src/app/layout.tsx` (Root Layout -- MINIMAL, returns children only):
   ```typescript
   type Props = {
     children: React.ReactNode;
   };

   export default function RootLayout({ children }: Props) {
     return children;
   }
   ```
   CRITICAL: Root layout must NOT render <html> or <body> tags. The locale layout handles those.

6. Create `src/app/[locale]/layout.tsx` (Locale Layout -- FULL):
   - Import `@/styles/globals.css`
   - Import fonts from `@/styles/fonts`
   - Import `cn` from `@/lib/utils`
   - Import `notFound` from `next/navigation`
   - Import `hasLocale`, `NextIntlClientProvider` from `next-intl`
   - Import `setRequestLocale` from `next-intl/server`
   - Import `routing` from `@/i18n/routing`
   - Export `generateStaticParams` returning routing.locales mapped to `{ locale }`
   - Default export async function that:
     a. Awaits `params` to get `locale`
     b. Validates locale with `hasLocale(routing.locales, locale)`, calls `notFound()` if invalid
     c. Calls `setRequestLocale(locale)`
     d. Returns `<html lang={locale} suppressHydrationWarning>` with `<body>` containing font CSS variables (inter.variable, orbitron.variable) and `NextIntlClientProvider` wrapping children
   - Follow research Example 3 exactly for the implementation

7. Create `messages/es.json` (OUTSIDE src/ directory -- in project root):
   ```json
   {
     "landing": {
       "hero": {
         "title": "404 Tech Found",
         "subtitle": "Laboratorio de Innovacion Deeptech"
       },
       "phase1": {
         "status": "Phase 1 Foundation Completa"
       }
     }
   }
   ```

8. Create `messages/en.json`:
   ```json
   {
     "landing": {
       "hero": {
         "title": "404 Tech Found",
         "subtitle": "Deeptech Innovation Lab"
       },
       "phase1": {
         "status": "Phase 1 Foundation Complete"
       }
     }
   }
   ```
   NOTE: These are minimal messages for Phase 1 verification. Full ~140 translation keys are migrated in Phase 2.

9. Create `src/app/[locale]/page.tsx` (Test landing page from research Example 4):
   - Import `getTranslations` from `next-intl/server`
   - Import `setRequestLocale` from `next-intl/server`
   - Accept `params: Promise<{ locale: string }>`, await it, call `setRequestLocale(locale)`
   - Call `const t = await getTranslations("landing")`
   - Render a page that tests ALL custom Tailwind utilities:
     - `<h1>` with `font-orbitron text-6xl font-bold text-glow-purple` and gradient-purple text
     - Three house color cards (AI/Biotech/Hardware) with glow-border-* utilities
     - Status text using `text-muted-foreground`
     - All text pulled from translations (`t("hero.title")`, `t("hero.subtitle")`, `t("phase1.status")`)
   - Follow research Example 4 for the exact implementation
  </action>
  <verify>
    Run `bun dev` (starts dev server with Turbopack).
    Visit `http://localhost:3000/es` -- should render page with Spanish text "Laboratorio de Innovacion Deeptech".
    Visit `http://localhost:3000/en` -- should render page with English text "Deeptech Innovation Lab".
    Visit `http://localhost:3000/` -- should redirect to `/es` (default locale).
    Verify Orbitron font loads on the h1 heading (check browser dev tools -> computed font-family).
    Verify purple gradient and glow effects are visible.
    Verify house color cards show correct colors (pink/green/orange).
    Run `bun run check` -- Biome should pass with zero errors.
  </verify>
  <done>
    next-intl configured with ES/EN locale routing. proxy.ts handles locale detection. Root layout delegates to locale layout. Locale layout renders HTML with correct lang attribute, fonts, and NextIntlClientProvider. Test page at /es and /en displays styled content with translations. All Tailwind v4 custom utilities (purple gradients, house colors, glow effects, Orbitron font) render correctly.
  </done>
</task>

</tasks>

<verification>
1. `bun dev` starts without errors
2. `/es` renders Spanish content with cyberpunk purple theme
3. `/en` renders English content with same theme
4. `/` redirects to `/es`
5. Orbitron font visible on headings, Inter on body text
6. House color cards (AI pink, Biotech green, Hardware orange) display correctly
7. Purple glow effect visible on heading
8. `bun run check` passes with zero Biome errors
9. `components.json` exists with `"rsc": true`
</verification>

<success_criteria>
- Tailwind v4 cyberpunk theme renders (purple gradients, house colors, glow effects)
- next-intl bilingual routing works (/es = Spanish, /en = English)
- Orbitron and Inter fonts load via next/font/google
- shadcn/ui initialized in RSC mode (components.json with rsc: true)
- App Router layout structure: root layout (minimal) + locale layout (full)
- proxy.ts handles locale middleware (Next.js 16 naming)
- Biome passes with zero errors on all new files
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
