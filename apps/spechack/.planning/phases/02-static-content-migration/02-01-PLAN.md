---
phase: 02-static-content-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/i18n/navigation.ts
  - src/hooks/useScrollDirection.ts
  - messages/es.json
  - messages/en.json
  - src/styles/globals.css
autonomous: true

must_haves:
  truths:
    - "All 7 section namespaces exist in both es.json and en.json with identical key structure"
    - "useScrollDirection hook returns 'up', 'down', or null based on scroll position"
    - "i18n navigation exports useRouter, usePathname, Link, redirect for client-side locale switching"
    - "hamburger-react package is installed and available for import"
  artifacts:
    - path: "src/i18n/navigation.ts"
      provides: "Client-side navigation utilities for locale switching"
      exports: ["Link", "redirect", "usePathname", "useRouter"]
    - path: "src/hooks/useScrollDirection.ts"
      provides: "Scroll direction detection hook"
      exports: ["useScrollDirection"]
    - path: "messages/es.json"
      provides: "Spanish translations for all 7 sections + navbar + footer"
      contains: "navbar"
    - path: "messages/en.json"
      provides: "English translations for all 7 sections + navbar + footer"
      contains: "navbar"
  key_links:
    - from: "src/i18n/navigation.ts"
      to: "src/i18n/routing.ts"
      via: "createNavigation import"
      pattern: "createNavigation\\(routing\\)"
---

<objective>
Create all bilingual translation content, shared utilities, and install dependencies needed by every section component.

Purpose: Every section component in Plans 02-04 depends on translation messages, shared hooks, and third-party packages. This plan creates the single source of truth for all bilingual content (ported from the Vite blueprint's i18n.ts), the shared utilities (i18n navigation for locale switching, scroll direction hook for Navbar), and installs the `hamburger-react` package needed by the Navbar component in Plan 02-02.

Output: Complete messages/es.json and messages/en.json with all section namespaces, i18n/navigation.ts for client-side routing, useScrollDirection hook, scroll-padding-top CSS for anchor navigation, and hamburger-react dependency installed.
</objective>

<execution_context>
@/home/hybridz/.claude/get-shit-done/workflows/execute-plan.md
@/home/hybridz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-static-content-migration/02-RESEARCH.md

Source content (port translations from):
@/home/hybridz/Projects/spechack-blueprint/src/lib/i18n.ts

Existing files to reference:
@src/i18n/routing.ts
@src/styles/globals.css
@src/app/layout.tsx

Landing app pattern to follow:
@/home/hybridz/Projects/404tf/apps/landing/src/i18n/navigation.ts
@/home/hybridz/Projects/404tf/apps/landing/src/hooks/useScrollDirection.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install dependencies, create i18n navigation utilities, and useScrollDirection hook</name>
  <files>package.json, src/i18n/navigation.ts, src/hooks/useScrollDirection.ts, src/styles/globals.css</files>
  <action>
**First, install the hamburger-react package** needed by the Navbar component (Plan 02-02):
```bash
bun add hamburger-react
```
Note: `clsx`, `lucide-react`, `tailwind-merge`, and `framer-motion` are already in package.json. Only `hamburger-react` is missing.

Then create the shared utilities:

Create `src/i18n/navigation.ts` following the exact pattern from `apps/landing/src/i18n/navigation.ts`:
- Import `createNavigation` from `next-intl/navigation` and `routing` from `./routing`
- Export `{ Link, redirect, usePathname, useRouter }` from `createNavigation(routing)`

Create `src/hooks/useScrollDirection.ts` by copying the exact implementation from `apps/landing/src/hooks/useScrollDirection.ts`:
- "use client" directive
- Returns "up" | "down" | null
- 10px threshold to avoid jitter
- Passive scroll listener with cleanup

Update `src/styles/globals.css` to add `scroll-padding-top` and `scroll-behavior` in the `@layer base` block:
```css
html {
  scroll-behavior: smooth;
  scroll-padding-top: 5rem; /* Account for fixed navbar height (4rem) + 1rem breathing room */
}
```
Add this inside the existing `@layer base { ... }` block, before the `body` rule.

Conventions: Use tabs for indentation, double quotes for strings, named exports only, `@/` import alias.
  </action>
  <verify>
Run `bun run build` in the spechack app directory. Verify no TypeScript errors.
Check that `src/i18n/navigation.ts`, `src/hooks/useScrollDirection.ts` exist and export correctly.
Verify `hamburger-react` appears in package.json dependencies: `grep hamburger-react package.json`
  </verify>
  <done>
hamburger-react is installed in package.json. i18n navigation exports Link, redirect, usePathname, useRouter. useScrollDirection hook exists with scroll detection. globals.css has scroll-padding-top for anchor navigation.
  </done>
</task>

<task type="auto">
  <name>Task 2: Populate complete bilingual translation files</name>
  <files>messages/es.json, messages/en.json</files>
  <action>
Replace the current placeholder content in `messages/es.json` and `messages/en.json` with complete translations for all sections. Port ALL content from the Vite blueprint's `src/lib/i18n.ts` file, converting from the `{ es: "...", en: "..." }` object format to next-intl's nested JSON format.

**Message structure (both files must have IDENTICAL key structure, only values differ):**

Top-level namespaces:
- `navbar` — nav link labels (challenge, howItWorks, prizes, hubs, faq, sponsor, register)
- `hero` — eyebrow, headline, sub, date, howLink, formTitle, formName, formEmail, formCity, trackVirtual, trackVirtualHelper, trackHub, trackHubHelper, submit, formNote
- `manifesto` — p1, p2, bridge (keep {bold}{/bold} markers in text for runtime parsing)
- `phases` — title, p1 (name, days, desc), p2 (name, days, desc), p3 (name, days, desc), note, registerUp
- `judging` — title, criteria (array of 5: label + pct), prizes (array of 5: emoji + label + desc), poolText, cta
- `hubs` — title, traction, ambassadorPitch, applyCta, formName, formEmail, formCity, formCommunity, formSubmit, formSuccess
- `sponsors` — title, sub, metricDevs, metricCities, metricDays, props (array of 3 strings), deckCta, callCta, ngoNote
- `faq` — title, items (array of 4: q + a)
- `footer` — presented, register, sponsor, ambassador, questions
- `NotFound` — keep existing keys (title, description, backHome)

**Important notes:**
- next-intl supports ICU message format. For arrays (judging.criteria, judging.prizes, faq.items, sponsors.props), use indexed keys like `criteria.0.label`, `criteria.1.label` etc. since next-intl `getTranslations` can use `t.raw("criteria")` to get the array, or use numbered namespace keys.
- Actually, the simpler approach for next-intl: use flat indexed keys within each namespace. For judging criteria, structure as:
  ```json
  "judging": {
    "title": "...",
    "criteria": {
      "0": { "label": "...", "pct": 30 },
      "1": { "label": "...", "pct": 25 }
    }
  }
  ```
  But `pct` values are the same in both languages, so include them only in the component code. Only translatable strings go in messages:
  ```json
  "judging": {
    "criteria0Label": "Calidad del Diseno",
    "criteria1Label": "Fidelidad Plan->Codigo",
    ...
    "prize0Label": "Gran Premio",
    "prize0Desc": "Mejor diseno + ejecucion",
    ...
  }
  ```
  Use this flat key pattern to avoid complexity with arrays in next-intl.

- Keep the `{bold}` and `{/bold}` markers in manifesto text values — the component will parse them at render time.
- Preserve all accent characters and special characters correctly (UTF-8).
- Remove the old `home` namespace (it was a Phase 1 placeholder).

**Source of truth for all content:** `/home/hybridz/Projects/spechack-blueprint/src/lib/i18n.ts`

Port every single string from that file. Do not omit or abbreviate any content.
  </action>
  <verify>
Verify both JSON files parse correctly: `bun -e "console.log(Object.keys(JSON.parse(require('fs').readFileSync('messages/es.json','utf8'))))"` — should list all namespaces.
Verify key parity: check that es.json and en.json have the same top-level keys.
Run `bun run build` to confirm next-intl can load the messages without errors.
  </verify>
  <done>
Both messages/es.json and messages/en.json contain complete translations for all 7 sections + navbar + footer with identical key structure. All content from the Vite blueprint i18n.ts is ported. Build succeeds.
  </done>
</task>

</tasks>

<verification>
1. `bun run build` succeeds with no TypeScript or translation errors
2. `hamburger-react` is listed in package.json dependencies
3. `src/i18n/navigation.ts` exports Link, redirect, usePathname, useRouter
4. `src/hooks/useScrollDirection.ts` has "use client" directive and exports useScrollDirection
5. `messages/es.json` and `messages/en.json` have identical key structures with all section namespaces
6. `src/styles/globals.css` includes scroll-padding-top and scroll-behavior: smooth
</verification>

<success_criteria>
- All bilingual content from the Vite blueprint is ported to next-intl JSON format
- i18n navigation utilities are available for client-side locale switching
- useScrollDirection hook is ready for Navbar consumption
- hamburger-react package installed for Navbar mobile menu
- CSS scroll behavior configured for anchor navigation with fixed navbar offset
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/02-static-content-migration/02-01-SUMMARY.md`
</output>
