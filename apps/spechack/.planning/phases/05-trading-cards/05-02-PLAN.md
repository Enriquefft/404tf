---
phase: 05-trading-cards
plan: 02
type: execute
wave: 2
depends_on: ["05-01"]
files_modified:
  - src/app/[locale]/_components/TradingCard.tsx
autonomous: true

must_haves:
  truths:
    - "TradingCard renders a card visual with agent number, name, city+flag, track badge, builder class, gradient background, and event branding"
    - "TradingCard uses deterministic gradient from CardData for background styling"
    - "TradingCard displays builder class description in the correct locale"
    - "TradingCard renders at any container width (aspect-ratio 3:4 maintained)"
  artifacts:
    - path: "src/app/[locale]/_components/TradingCard.tsx"
      provides: "Visual trading card component"
      exports: ["TradingCard"]
      min_lines: 60
  key_links:
    - from: "src/app/[locale]/_components/TradingCard.tsx"
      to: "src/lib/card-utils.ts"
      via: "imports CardData type and getCountryFlag"
      pattern: "import.*card-utils"
---

<objective>
Create the TradingCard visual component that renders a participant's trading card with all identity elements.

Purpose: This is the core visual building block used by both CardReveal (post-registration) and TradingCardPreview (Hero fanned cards). Building it as a standalone component enables reuse.

Output: TradingCard.tsx client component.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-trading-cards/05-RESEARCH.md
@.planning/phases/05-trading-cards/05-01-SUMMARY.md
@src/lib/card-utils.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create TradingCard client component</name>
  <files>src/app/[locale]/_components/TradingCard.tsx</files>
  <action>
Create `TradingCard.tsx` as a `"use client"` component. Port from blueprint `TradingCard.tsx` with these adaptations:

1. **Remove `forwardRef`** — React 19 passes ref as regular prop. Accept `ref` in props if needed (but likely not needed for this use case — omit ref entirely).
2. **Remove `useLang()`** — Replace with `locale` prop (`"es" | "en"`).
3. **Named export** — `export function TradingCard(...)` not `export default`.
4. **Import CardData and getCountryFlag from `@/lib/card-utils`**.

Props type:
```typescript
type TradingCardProps = {
  card: CardData;
  locale: "es" | "en";
  className?: string;
};
```

The component renders (matching blueprint visual exactly):
- Container: `aspect-[3/4] rounded-xl overflow-hidden select-none` with inline gradient background style (`linear-gradient(${angle}deg, ${from}15, ${to}15), hsl(240,10%,7%)`)
- Inner border: `absolute inset-[3px] rounded-xl border border-white/10`
- Gradient accent line at top: `absolute top-4 left-5 right-5 h-[2px] rounded-full` with `linear-gradient(90deg, from, to)`
- Content area: `relative h-full flex flex-col justify-between p-5 pt-8`
  - "SPECHACK" logo text: `font-orbitron text-[10px] font-bold text-white/40 tracking-wider`
  - Agent number: `font-mono text-lg font-bold` with `color: gradient.from`
  - Name: `font-orbitron text-xl font-extrabold text-white truncate`
  - City + flag: `font-mono text-xs text-white/60` — use `getCountryFlag(card.city || "virtual")`
  - Track badge: inline-block span with conditional colors (virtual=cyan, hub=green) matching blueprint lines 59-67
  - Separator: `w-full h-px bg-white/10 my-2`
  - Builder class name: `font-orbitron text-sm font-bold` with `color: gradient.to`
  - Builder class desc: `font-mono text-[10px] text-white/50 leading-relaxed` — use `card.builderClass.desc[locale]`
  - Event branding: `font-mono text-[8px] text-white/25 mt-auto pt-3` — "404 SPECHACK . JUNE 19-28, 2026"

Copy the exact Tailwind classes and inline styles from the blueprint. The visual must be pixel-identical.
  </action>
  <verify>Run `bun run build` — no errors. Run `bun run lint` — passes. Verify the component has "use client", named export, no forwardRef, no useLang, accepts locale prop.</verify>
  <done>TradingCard.tsx renders a complete card visual with all identity elements (agent number, name, city+flag, track badge, builder class with locale-aware description, gradient background, event branding). Uses named export, no forwardRef, locale prop instead of useLang.</done>
</task>

</tasks>

<verification>
1. `bun run build` passes
2. `bun run lint` passes
3. TradingCard.tsx has "use client" directive
4. TradingCard.tsx exports named `TradingCard` function
5. TradingCard.tsx imports `CardData` and `getCountryFlag` from `@/lib/card-utils`
6. TradingCard.tsx accepts `locale` prop, not using `useLang()` or any context
7. All visual elements from CARD-02 present: agent number, name, city+flag, track badge, builder class, gradient, branding
</verification>

<success_criteria>
- CARD-02: Trading card displays agent number (SPEC-XXXX), name, city + country flag, track badge, builder class name + description, event branding
- CARD-03 (visual): Card uses deterministic gradient from CardData for background
</success_criteria>

<output>
After completion, create `.planning/phases/05-trading-cards/05-02-SUMMARY.md`
</output>
