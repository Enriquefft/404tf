---
phase: 03-animations-interactivity
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/[locale]/page.tsx
  - src/app/[locale]/_components/HeroContent.tsx
  - src/app/[locale]/_components/Hero.tsx
  - src/app/[locale]/_components/Manifesto.tsx
autonomous: true

must_haves:
  truths:
    - "Every landing section is wrapped in FadeInSection and fades in on scroll"
    - "Hero text column animates in before form column with staggered timing"
    - "Manifesto phase cards stagger in when scrolled into viewport"
  artifacts:
    - path: "src/app/[locale]/_components/HeroContent.tsx"
      provides: "Client wrapper for Hero two-column layout with staggered entrance animation"
      exports: ["HeroContent"]
  key_links:
    - from: "src/app/[locale]/_components/Hero.tsx"
      to: "src/app/[locale]/_components/HeroContent.tsx"
      via: "import and render"
      pattern: "HeroContent"
    - from: "src/app/[locale]/page.tsx"
      to: "src/app/[locale]/_components/animations/FadeInSection.tsx"
      via: "import and wrap sections"
      pattern: "FadeInSection"
---

<objective>
Wrap all landing sections in scroll-triggered fade-in animations and add staggered entrance animations to Hero and Manifesto phase cards.

Purpose: SC1 requires that all sections fade in on scroll. This plan wraps every section in FadeInSection (from Phase 1), creates a HeroContent client component for staggered two-column entrance, and adds whileInView stagger to Manifesto phase cards.

Output: page.tsx with FadeInSection wrappers, HeroContent.tsx client component, updated Hero.tsx using HeroContent, updated Manifesto.tsx with staggered cards.
</objective>

<execution_context>
@/home/hybridz/.claude/get-shit-done/workflows/execute-plan.md
@/home/hybridz/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-animations-interactivity/03-RESEARCH.md

Existing files to modify:
@src/app/[locale]/page.tsx
@src/app/[locale]/_components/Hero.tsx
@src/app/[locale]/_components/Manifesto.tsx
@src/app/[locale]/_components/animations/FadeInSection.tsx
@src/app/[locale]/_components/animations/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create HeroContent client component and refactor Hero</name>
  <files>src/app/[locale]/_components/HeroContent.tsx, src/app/[locale]/_components/Hero.tsx</files>
  <action>
Create `src/app/[locale]/_components/HeroContent.tsx` — a "use client" component that wraps Hero's two-column grid with staggered entrance animation:

```tsx
"use client";

import { motion } from "framer-motion";
import type { ReactNode } from "react";

type HeroContentProps = {
	left: ReactNode;
	right: ReactNode;
};

export function HeroContent({ left, right }: HeroContentProps) {
	return (
		<div className="max-w-7xl w-full grid lg:grid-cols-[1.2fr_1fr] gap-10 lg:gap-16 items-center relative z-10">
			<motion.div
				initial={{ opacity: 0, y: 20 }}
				animate={{ opacity: 1, y: 0 }}
				transition={{ duration: 0.6, delay: 0.2 }}
			>
				{left}
			</motion.div>
			<motion.div
				initial={{ opacity: 0, y: 20 }}
				animate={{ opacity: 1, y: 0 }}
				transition={{ duration: 0.6, delay: 0.5 }}
			>
				{right}
			</motion.div>
		</div>
	);
}
```

Then refactor `Hero.tsx` to use HeroContent. Hero stays as async server component. Split its JSX so:
- The `<section>` wrapper and radial gradient decorations remain in Hero
- The left column (text: eyebrow, h1, sub, date, howLink) is passed as `left` prop
- The right column (form card) is passed as `right` prop
- The grid `<div className="max-w-7xl ...">` is REMOVED from Hero (it's now inside HeroContent)

Conventions: tabs, double quotes, named exports, `@/` imports.
  </action>
  <verify>
Run `bun run build` in the spechack app. No TypeScript errors. HeroContent.tsx exists and exports HeroContent. Hero.tsx imports and renders HeroContent.
  </verify>
  <done>
HeroContent client component created with staggered entrance animation. Hero server component refactored to pass left/right content as props. Build succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add staggered entrance to Manifesto phase cards</name>
  <files>src/app/[locale]/_components/Manifesto.tsx</files>
  <action>
Update `Manifesto.tsx` to wrap each phase card in `MotionDiv` from the animations barrel:

1. Add import: `import { MotionDiv } from "./_components/animations";`
   Wait — Manifesto is at `_components/Manifesto.tsx`, so the import should be `import { MotionDiv } from "./animations";`

2. In the phase cards map, replace the outer `<div key={phase.name}>` wrapper with `<MotionDiv>`:

```tsx
<MotionDiv
	key={phase.name}
	initial={{ opacity: 0, y: 30 }}
	whileInView={{ opacity: 1, y: 0 }}
	viewport={{ once: true, margin: "-50px" }}
	transition={{ duration: 0.6, delay: index * 0.15 }}
>
	<div className="bg-card border border-border rounded-lg p-6 sm:p-8 space-y-4 h-full">
		...existing card content...
	</div>
	{/* Connector Line (Desktop Only) */}
	{index < phaseData.length - 1 && (...)}
</MotionDiv>
```

Need to add `index` to the map callback: `.map((phase, index) => { ... })` — check if it's already there.

Conventions: tabs, double quotes, named exports.
  </action>
  <verify>
Run `bun run build`. No errors. Check that Manifesto.tsx imports MotionDiv and uses it in the phase cards map with whileInView prop.
  </verify>
  <done>
Manifesto phase cards wrapped in MotionDiv with staggered whileInView animation. Cards fade up with 150ms delay between each.
  </done>
</task>

<task type="auto">
  <name>Task 3: Wrap all sections in FadeInSection in page.tsx</name>
  <files>src/app/[locale]/page.tsx</files>
  <action>
Update `page.tsx` to wrap each section component in `<FadeInSection>`:

1. Add import: `import { FadeInSection } from "./_components/animations";`

2. Wrap each section:
```tsx
<main>
	<FadeInSection><Hero /></FadeInSection>
	<FadeInSection><Manifesto /></FadeInSection>
	<section id="prizes" className="py-24 sm:py-32 px-4 blueprint-grid">
		<div className="max-w-6xl mx-auto">
			<div className="grid lg:grid-cols-2 gap-12 lg:gap-16">
				<FadeInSection><Judging /></FadeInSection>
				<FadeInSection><Hubs /></FadeInSection>
			</div>
		</div>
	</section>
	<FadeInSection><Sponsors /></FadeInSection>
	<FadeInSection><FAQ /></FadeInSection>
</main>
<FadeInSection><Footer /></FadeInSection>
```

The `<section id="prizes">` wrapper stays unwrapped (it provides the grid layout). Judging and Hubs get individual FadeInSection wrappers inside it for independent stagger.

Conventions: tabs, double quotes, `@/` imports.
  </action>
  <verify>
Run `bun run build`. No errors. Run `bun run dev` and scroll down the page — each section should fade in as it enters the viewport.
  </verify>
  <done>
All landing sections wrapped in FadeInSection. Page scrolling reveals each section with scroll-triggered fade-in animation.
  </done>
</task>

</tasks>

<verification>
1. `bun run build` succeeds with no TypeScript errors
2. Hero renders with left column fading in before right column (200ms vs 500ms delay)
3. Manifesto phase cards stagger in with 150ms offset when scrolled to
4. All sections (Hero, Manifesto, Judging, Hubs, Sponsors, FAQ, Footer) fade in on scroll
5. No hydration warnings in browser console
</verification>

<success_criteria>
- SC1: User scrolling down sees sections fade in as they enter viewport with staggered timing
- Hero text appears before form with clear stagger
- Manifesto phase cards animate in sequence
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/03-animations-interactivity/03-01-SUMMARY.md`
</output>
